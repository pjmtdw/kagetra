[Information]
AppName: kagetra
Version: 0.0.1
License: MIT Lincense
Developer: Haruhiro Yoshimoto <hpnpwd@gmail.com>
Description: Groupware specialized to Kyogi-Karuta

[Devolompent Notice]
- Try to restrict single component size under 50KB (cache limit for iPhone 3GS)
- Non smart phone must be supported for only major faculties, not all.

[Middleware]
Version Control System:
  Git
Programming Language:
  Ruby 1.9.3
Ruby Management:
  rbenv + bundler
Web Framework:
  Sinatra
Testing:
  RSpec
ORM:
  DataMapper
Database:
  SQLite
Wiki Backend:
  Git
HTML Template Engine:
  Haml
CSS Template Engine:
  Sass(SCSS) + Compass
Meta JavaScript:
  CoffeeScript
JavaScript Library:
  jQuery
  underscore.js
  Backbone.js
  RequireJS
Web UI Library:
  Zurb Foundation 4

[Howto Run]
(0) Prepare Ruby environment
for Ubuntu -> 
  $ apt-get install ruby1.9.1 ruby1.9.1-dev libsqlite3-dev
  $ apt-get install rbenv
  $ echo 'eval "$(rbenv init -)"' >> ~/.bashrc
  $ rbenv alternatives
  $ cd kagetra && rbenv local 1.9.3-debian
(1) Install bundler
  $ gem install bundler
(2) Install Sinatra and other Ruby modules
  $ cd kagetra && bundle install
  NOTE: Since `path '.vendor/bundle'` is in Gemfile,
        we do not have to specify --path
(3) Install JavaScript runtime for ExecJS
  $ apt-get install nodejs
(4) Run web app
  $ cd kagetra && bundle exec rackup

[For Production]
(1) Compile Sass to CSS
  $ bundle exec compass compile
(2) Set shared password
  $ bundle exec ruby ./scripts/shared_password.rb
(3) Compile & Optimize Sass and CoffeeScripts
  $ npm install requirejs coffee-script
  $ cd deploy && make
  now public/css and public/js files are generated
(4) Setup nginx
  $ apt-get install nginx
  $ cp ./deploy/nginx.site.example /etc/nginx/sites-available/kagetra
  edit /etc/nginx/sites-available/kagetra and set proper path
  $ ln -s /etc/nginx/sites-available/kagetra /etc/nginx/sites-enabled/
(5) Start unicorn and nginx
  $ service start nginx
  $ bundle exec unicorn -E deployment -c deploy/unicorn.rb -D

[For Development]
- Start interactive console for Sinatra
  $ bundle exec tux
- If you get "Internal Server Error" when compiling CoffeeScript but cannot know the position of the error, try executing
  $ coffee -c views/js/hoobar.coffee
